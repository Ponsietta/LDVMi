# --- Created by Slick DDL
# To stop Slick DDL generation, remove this comment and start using Evolutions

# --- !Ups

create table "DATASOURCES" ("ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,"NAME" VARCHAR NOT NULL,"ENDPOINT_URL" VARCHAR NOT NULL,"NAMED_GRAPHS" VARCHAR);
create table "VISUALIZATIONS" ("ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,"NAME" VARCHAR NOT NULL,"DATASOURCE_ID" BIGINT NOT NULL);
create table "VISUALIZATION_QUERIES" ("ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,"VISUALIZATION_ID" BIGINT NOT NULL,"TOKEN" VARCHAR NOT NULL,"DATA" VARCHAR NOT NULL);
alter table "VISUALIZATIONS" add constraint "VISUALIZATION_DATASOURCE_FK" foreign key("DATASOURCE_ID") references "DATASOURCES"("ID") on update NO ACTION on delete NO ACTION;
alter table "VISUALIZATION_QUERIES" add constraint "VISUALIZATION_QUERY_VISUALIZATION_FK" foreign key("VISUALIZATION_ID") references "VISUALIZATIONS"("ID") on update NO ACTION on delete NO ACTION;

# --- !Downs

alter table "VISUALIZATIONS" drop constraint "VISUALIZATION_DATASOURCE_FK";
alter table "VISUALIZATION_QUERIES" drop constraint "VISUALIZATION_QUERY_VISUALIZATION_FK";
drop table "DATASOURCES";
drop table "VISUALIZATIONS";
drop table "VISUALIZATION_QUERIES";

