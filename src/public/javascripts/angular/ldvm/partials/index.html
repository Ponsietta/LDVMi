<section id="main">
    <div class="container">
        <br/><br/>

        <div class="row" ng-show="showInput">
            <div class="col-md-8">

                <div class="card">
                    <div class="card-header bgm-orange">
                        <h2>Select Data Sources
                            <small>LinkedPipes will analyze those sources and try to discover visualizations.</small>
                        </h2>
                    </div>

                    <div class="card-body card-padding data-source-list">
                        <form name="dataSources">
                            <create-datasource sources="sources"></create-datasource>

                            <div class="row">
                                <div class="col-md-12 text-right">
                                    <div ng-show="sources.length">
                                        <button class="btn btn-default waves-effect" ng-click="visualize(true)">Feeling
                                            lucky
                                        </button>
                                        <button class="btn btn-primary waves-effect" ng-click="visualize()">Visualize
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

            </div>

            <div class="col-md-4">

                <div class="card" ng-show="showInput">
                    <div class="card-header bgm-blue">
                        <h2>Examples
                            <small>Some examples prepared for you.</small>
                        </h2>
                    </div>

                    <div class="card-body data-source-list">
                        <div class="listview lv-bordered lv-lg">
                            <div class="lv-item media">
                                <span class="pull-left">
                                    <span class="btn btn-warning" ng-click="example01()">
                                        <i class="md md-fast-rewind"></i>
                                    </span>
                                </span>
                                <div class="media-body">
                                    <a href="" class="lv-title" ng-click="example01()">DataCube</a>
                                    <small class="lv-small">CZ Demography with IRI dereference.</small>
                                </div>
                            </div>
                            <div class="lv-item media">
                                <span class="pull-left">
                                    <span class="btn btn-warning" ng-click="example02()">
                                        <i class="md md-fast-rewind"></i>
                                    </span>
                                </span>
                                <div class="media-body">
                                    <a href="" class="lv-title" ng-click="example02()">SKOS</a>
                                    <small class="lv-small">EU programme</small>
                                </div>
                            </div>
                            <div class="lv-item media">
                                <span class="pull-left">
                                    <span class="btn btn-warning" ng-click="example03()">
                                        <i class="md md-fast-rewind"></i>
                                    </span>
                                </span>
                                <div class="media-body">
                                    <a href="" class="lv-title" ng-click="example03()">LOD.cz</a>
                                    <small class="lv-small">Linked Opendata CZ endpoint</small>
                                </div>
                            </div>
                            <div class="lv-item media">
                                <span class="pull-left">
                                    <span class="btn btn-warning" ng-click="example04()">
                                        <i class="md md-fast-rewind"></i>
                                    </span>
                                </span>
                                <div class="media-body">
                                    <a href="" class="lv-title" ng-click="example04()">COMSODE D3.2</a>
                                    <small class="lv-small">Hierarchies from D3.2 of the COMSODE project</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row" ng-show="showInput">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header ch-alt m-b-20">
                        <h2>Recently Saved Pipelines</h2>
                    </div>

                    <div class="card-body">
                        <div class="listview">
                            <a class="lv-item" href="/pipelines#/detail/{{pipeline.id}}"
                               ng-repeat="pipeline in pipelines">
                                <div class="media">
                                    <!--<div class="pull-left">
                                        <img class="lv-img-sm" src="img/profile-pics/1.jpg" alt="">
                                    </div>-->
                                    <div class="media-body">
                                        <div class="lv-title" ng-bind="pipeline.title"></div>
                                        <small class="lv-small" ng-bind="pipeline.descriptions"></small>
                                    </div>
                                </div>
                            </a>
                            <span class="lv-item" ng-if="!pipelines.length">No saved pipelines.</span>
                            <a class="lv-footer" href="/pipelines#/list">View all pipelines</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row" ng-hide="showInput">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header bgm-blue">
                        <h2>Visualizations discovery
                            <small>
                                LinkedPipes is analyzing your data sources. Those are examined to find a well-known data
                                patterns
                                in order to automatically provide you with a suitable visualization.
                            </small>
                        </h2>
                    </div>

                    <div class="card-body card-padding">
                        <div class="listview lv-bordered lv-lg">
                            <div class="lv-body">
                                <div class="lv-item media text-center">
                                    <div class="preloader pl-sm">
                                        <svg class="pl-circular" viewBox="25 25 50 50">
                                            <circle class="plc-path" cx="50" cy="50" r="20"></circle>
                                        </svg>
                                    </div>
                                </div>
                                <div class="lv-item media">
                                    <div class="checkbox pull-left">
                                        <i class="md md-query-builder" ng-if="creatingDatasources"
                                           style="font-size: 24px"></i>
                                        <i class="md md-done" ng-if="datasourcesCreated" style="font-size: 24px"></i>
                                    </div>
                                    <div class="media-body">
                                        <div class="lv-title">Creating data sources</div>
                                        <small class="lv-small">
                                            Data sources to be created: {{sources.length}} ({{validDataSources.length}}
                                            valid)
                                        </small>
                                    </div>
                                </div>
                                <div class="lv-item media">
                                    <div class="checkbox pull-left">
                                        <i class="md md-query-builder" ng-if="!discoveryFinished"
                                           style="font-size: 24px"></i>
                                        <i class="md md-done" ng-if="discoveryFinished" style="font-size: 24px"></i>
                                    </div>
                                    <div class="media-body">
                                        <div class="lv-title">Running discovery</div>
                                        <small class="lv-small">
                                            Pipelines discovered so far: {{pipelinesDiscovered}}.
                                            <a class="pull-right" ng-if="discoveryId && pipelinesDiscovered"
                                               href="/pipelines#/list?discoveryId={{discoveryId}}">See discovered
                                                pipelines</a>
                                        </small>
                                    </div>
                                </div>
                                <div class="lv-item media" ng-show="pipeline">
                                    <div class="checkbox pull-left">
                                        <i class="md md-query-builder" ng-if="!evaluationFinished"
                                           style="font-size: 24px"></i>
                                        <i class="md md-done" ng-if="evaluationFinished" style="font-size: 24px"></i>
                                    </div>
                                    <div class="media-body">
                                        <div class="lv-title">Evaluating pipeline</div>
                                        <small class="lv-small">
                                            {{pipeline.title}}
                                        </small>
                                    </div>
                                </div>
                                <div class="lv-item media" ng-show="redirect">
                                    <div class="checkbox pull-left">
                                        <i class="md md-rotate-right" style="font-size: 24px"></i>
                                    </div>
                                    <div class="media-body">
                                        <div class="lv-title">All done</div>
                                        <small class="lv-small">
                                            You are being redirected directly to the visualizer.
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>